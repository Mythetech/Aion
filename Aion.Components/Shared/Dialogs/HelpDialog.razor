@using System.Reflection
@using Aion.Components.Infrastructure
@using Aion.Components.Shared
@using Aion.Components.Theme
@using Microsoft.JSInterop

<MudDialog Class="aion-transparent-dialog about-aion-dialog">
    <DialogContent>
        <MudGrid>
            <MudItem xs="6" Class="pt-8 pb-2">
                <MudImage Class="aion-image" Src="/aion.png" Alt="Aion" Fluid="true" Style="border-radius: 10em"></MudImage>
            </MudItem>
            <MudItem xs="6">
                <MudStack Class="w-100 h-100" Spacing="3" AlignItems="AlignItems.Center" Justify="Justify.Center">
                    <MudText Class="app-header-font" Typo="Typo.h4">Aion</MudText>
                    <MudText Typo="Typo.h5" Class="mud-text-secondary"></MudText>
                    <MudText Typo="Typo.h6"></MudText>
                </MudStack>
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudLink OnClick="OpenMythetech" Class="app-header-font">Mythetech</MudLink>
        <MudLink OnClick="OpenGithub">GitHub</MudLink>
        <AionIconButton OnClick="@OpenGithubIssues" Size="Size.Small" Color="Color.Error" Tooltip="Report Issue" Icon="@AionIcons.Round("bug_report")" />
        <MudSpacer/>
        <MudButton OnClick="Cancel">Close</MudButton>
    </DialogActions>
</MudDialog>
@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; }
    private void Cancel() => MudDialog.Cancel();
    private const string GitHubLink = "https://github.com/Mythetech/Aion/";
    private const string GitHubIssuesLink = $"{GitHubLink}issues/new";
    private const string MythetechLink = "https://www.mythetech.com";

    private void OpenMythetech()
    {
        LinkOpenService.OpenUrl(MythetechLink);
    }

    private void OpenGithub()
    {
        LinkOpenService.OpenUrl(GitHubLink);
    }
    
    private void OpenGithubIssues()
    {
        LinkOpenService.OpenUrl(GitHubIssuesLink);
    }

    [Inject] ILinkOpenService LinkOpenService { get; set; }

}